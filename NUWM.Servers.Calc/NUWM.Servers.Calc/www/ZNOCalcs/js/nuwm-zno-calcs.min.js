!function(){"use strict";var e=0,t="",a=!1,s=!1,r=!1,c="fadeInRight",o="fadeOutLeft",l="fadeIn",n="fadeOut",i="127.0.0.1:3001",u={zc_css:"http://"+i+"/ZNOCalcs/css/nuwm-zno.calcs.min.css",hlp:"http://"+i+"/api/calc?hlp=",anim_css:"http://"+i+"/ZNOCalcs/css/animate.css",fa_css:"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css",bs_css:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css",bs_js:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js",pop_js:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js",jq_js:"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"},j={ua:{lthis:"ua",js_opencalc:"Відкрити калькулятор абітурієнта",js_entrant_calc:"Калькулятор абітурієнта",js_chose:"Виберіть предмет",js_vill:"Я з сільської місцевості",js_prior:"Пріоритет",js_avermark:"Середній бал атестату",js_calculate:"Розрахувати",js_close:"Закрити",js_loader:"Завантаження",js_sr_title:"Нажаль Ваші бали занизькі для вступу на наші спеціальності",js_sr_text:"Спробуйте підготуватись на наступний рік. Ми чекаємо на Вас!",js_detail:"Детальніше",js_open:"Читати повністю",js_nodata:"немає даних",js_tp_200:"Бали ЗНО - від 100 до 200",js_prior_ph:"Пріоритет заяви 1 - 7",js_tp_12:"Найвищий бал - 12",js_not_full:"Потрібно заповнити всі поля",js_last_mark:"Прохідний бал на місця державного замовлення в 2017 році",js_your_mark:"Ваш конкурсний бал",js_greeting_title:"",js_greeting_desc:""},ru:{lthis:"ru",js_opencalc:"Открыть калькулятор абитуриента",js_entrant_calc:"Калькулятор абитуриента",js_chose:"Выберите предмет",js_vill:"Я из сельськой месности",js_prior:"Приоритет",js_avermark:"Средний бал атестата",js_calculate:"Рассчитать",js_close:"Закрыть",js_loader:"Загрузка",js_greeting_title:"",js_greeting_desc:"",js_sr_title:"",js_sr_text:"",js_detail:"О специальности",js_open:"Читать полностью",js_nodata:"нет данных",js_tp_200:"Балы ВНО - от 100 до 200",js_prior_ph:"Приоритет заявления 1 - 7",js_tp_12:"Максимальная оценка - 12",js_not_full:"Нужно заполнить все данные",js_last_mark:"Проходной бал в 2017 году",js_your_mark:"Ваш конкурсный ьал"},en:{lthis:"en",js_opencalc:"Open calculator for entrant",js_entrant_calc:"Calculator of entrant",js_chose:"Chose subject",js_vill:"I`m from village",js_prior:"Priority",js_avermark:"Average score of the certificate",js_calculate:"Calculate",js_close:"Close",js_loader:"Loading",js_greeting_title:"",js_greeting_desc:"",js_sr_title:"",js_sr_text:"",js_detail:"See more",js_open:"Read full",js_nodata:"N/A",js_tp_200:"Plea priority - from 1 to 7",js_prior_ph:"Maximum is 200",js_tp_12:"Maximum is 12",js_not_full:"You must to fill all inputs",js_last_mark:"Mark of previous year",js_your_mark:"Your mark"}};function d(){if(window.localStorage){if(localStorage.getItem("localizedYeap"))return localStorage.getItem("localizedYeap");window.localStorage.setItem("localizedYeap","ua")}return"ua"}function _(e){window.localStorage&&localStorage.setItem("localizedYeap",e)}function p(e){switch(e){case 3:_("en"),y(j.en);break;case 2:_("ru"),y(j.ru);break;case 1:_("ua"),y(j.ua)}}function y(e){jQuery("button[data-target='#zno-calcs_overlay").text(e.js_opencalc);for(var t=1;t<=3;t++){var a=jQuery("#zc-s"+t);a.text()!==j.en.js_chose&&a.text()!==j.ru.js_chose&&a.text()!==j.ua.js_chose||a.text(e.js_chose)}jQuery(".loader-text").text(e.js_loader),jQuery("#zc-submit").text(e.js_calculate),jQuery("#zc-prior-text").text(e.js_prior),jQuery("#zc-averMark-text").text(e.js_avermark),jQuery("#zc-vill-text").text(e.js_vill),jQuery("#zc-close").text(e.js_close),jQuery("#zno-calcs .modal-title").text(e.js_entrant_calc),jQuery("#zno-calcs").removeClass("ua en ru"),jQuery("#zno-calcs").addClass(e.lthis),jQuery("a[href^='#zc_data").each(function(t){jQuery(this).text(e.js_detail)}),jQuery("a[data-nx='lock").each(function(t){jQuery(this).text(e.js_open)}),jQuery("#zno-calcs .zc-gt_title").text(e.js_greeting_title),jQuery("#zno-calcs .zc-gt_text").text(e.js_greeting_desc),setTimeout(function(){for(var e=j[d()],t=1;t<=3;t++)jQuery("input[id=zc-s"+t+"-val]").attr("title",e.js_tp_200),jQuery("input[id=zc-s"+t+"-val]").popover("dispose");jQuery("#zc-prior").attr("title",e.js_prior_ph),jQuery("#zc-AverAt").attr("title",e.js_tp_12),jQuery("#zc-prior").popover("dispose"),jQuery("#zc-AverAt").popover("dispose"),jQuery(".zc_your_mark").attr("title",e.js_your_mark),jQuery(".zc_last_mark").attr("title",e.js_last_mark),jQuery(".zc_your_mark").popover("dispose"),jQuery(".zc_last_mark").popover("dispose"),jQuery(function(){jQuery('[data-toggle="tooltip"]').tooltip()})},0)}function m(e,t,a){var s=document.createElement("a");s.setAttribute("class","dropdown-item"),s.setAttribute("href","javascript:void(0);"),s.setAttribute("data-val","zc-s-tmp"+a++),s.setAttribute("data-parentid",e),s.textContent=t,s.addEventListener("click",function(e){!function(e){setTimeout(function(){for(var e="<div class='zc_tmp_loader_wrapper'><div class='zno-calcs_loader-wrapper '> <div class='zno-calcs_loader-inner'></div> <p class='loader-text'>"+j[d()].js_loader+"</p></div></div>",t=1;t<=3;t++){var a=document.createElement("div");a.setAttribute("class","zc_tmp_loader animated fadeIn"),a.innerHTML=e,jQuery("#zc-s"+t+"-sel").html(""),jQuery("#zc-s"+t+"-sel").append(a)}},0);var t=e.target;jQuery("#zc-s"+t.dataset.parentid).text(t.textContent),jQuery("#zno-calcs a[data-val="+t.dataset.val+"]").remove();var a=[],s=j[d()].js_chose;a.push(jQuery("#zc-s1").text()===s?"":jQuery("#zc-s1").text()),a.push(jQuery("#zc-s2").text()===s?"":jQuery("#zc-s2").text()),a.push(jQuery("#zc-s3").text()===s?"":jQuery("#zc-s3").text()),a=jQuery.grep(a,Boolean).join(","),jQuery.ajax("../../api/calc?hlp="+a).done(function(e){v(e.response)})}(e)}),jQuery("#zc-s"+e+"-sel").append(s)}function v(e){for(var t=1;t<=3;t++){jQuery("#zc-s"+t+"-sel").html(""),e.split(",").forEach(function(e){m(t,e,0)})}}function z(){var e=setInterval(function(){void 0!==jQuery.fn.popover&&(clearInterval(e),f())},50)}function f(){for(var e=1;e<=3;e++){jQuery("#zc-local-"+e).on("click",function(e){var t=e.currentTarget.id;p(parseInt(t[t.length-1]))})}window.localStorage&&localStorage.getItem("localizedYeap")&&(y(j[d()]),jQuery("#zno-calcs").addClass(j[d()]));for(e=1;e<=3;e++)jQuery("input[id=zc-s"+e+"-val]").on("change",function(){var e=parseInt(jQuery(this).val());""!==e&&(e>200?jQuery(this).val(200):e<100&&jQuery(this).val(100))});jQuery("#zc-prior").on("change",function(){var e=parseInt(jQuery(this).val());""!==e&&(e>7?jQuery(this).val(7):e<1&&jQuery(this).val(1))}),jQuery("#zc-AverAt").on("change",function(){var e=parseInt(jQuery(this).val());""!==e&&(e>12?jQuery(this).val(12):e<1&&jQuery(this).val(1))})}function Q(e,c){var o;"js"===c?((o=document.createElement("script")).setAttribute("type","text/javascript"),o.setAttribute("src",e)):"css"===c&&((o=document.createElement("link")).setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",e)),void 0!==o&&document.getElementsByTagName("head")[0].appendChild(o),o.addEventListener&&(o.addEventListener("load",function(){o.getAttribute("href")===u.zc_css&&(a=!0)},!1),o.addEventListener("load",function(){o.getAttribute("href")===u.bs_css&&(s=!0)},!1),o.addEventListener("load",function(){o.getAttribute("src")===u.pop_js&&void 0===jQuery.fn.popover&&Q(u.bs_js,"js")},!1),o.addEventListener("load",function(){o.getAttribute("src")===u.bs_js&&f()},!1));var l=setInterval(function(){a&&s&&!r&&(r=!0,jQuery.ajax({url:"http://"+i+"/ZNOCalcs/zno-calcs-misc.html",context:document.body,success:function(e){t=e,x(),setTimeout(function(){""===t&&setTimeout(function(){},1500),jQuery("#zno-calcs").html(t),jQuery("#zno-calcs").removeClass("loader")},0),clearInterval(l),setTimeout(z,0)}}))},50)}function h(t){e=0,setTimeout(function(){jQuery("#zno-calcs_data").empty();var a=j[d()];if(jQuery("#zno-calcs .zc-gt_title").text(a.js_greeting_title),jQuery("#zno-calcs .zc-gt_text").text(a.js_greeting_desc),33!==t.code){t.response[0].speciality.forEach(function(t){!function(t){e+=1;var a=jQuery("#zno-calcs").attr("class"),s=t.title,r=t.subtitle,c=null==t.url?"javascript:void(0);":t.url,o=t.page_content.content["Професійні профілі випускників"],l=null==o?"":o.join(""),n=null==t.branch_name?"[немає даних]":t.branch_name.content[0],i=null==t.branch_name?"'#'":t.branch_name.url,u=document.createElement("div");u.setAttribute("class","card my-3"),u.innerHTML="<div class='card-header p-0' role='tab' id='zc_data_heading"+e+"'> <div class='zno-calcs_sp-data my-2 mt-3'>  <p class='zno-calcs_sp-data_title'> <strong>"+s+"</strong></p>"+(null==r?"":"  <p class='zno-calcs_sp-data_subtitle'>"+r+"</p>")+"<div class='zc_marks container-fluid'> <p class='zc_last_mark' data-toggle='tooltip' data-placement='left' title='' >"+("0"!==t.aver_mark?t.aver_mark:j[d()].js_nodata)+"</p> <p class='zc_your_mark' data-toggle='tooltip' data-placement='left' title='' >"+t.aver_mark_calc+"</p></div> <div class='container-fluid'>   <div class='clearfix mt-4'> <p class='zno-calcs_sp-data_code float-left'>"+t.code+"</p>    <a class='collapsed btn btn-primary btn-sm float-right' data-toggle='collapse' data-parent='#zno-calcs_data' href='#zc_data_collapse"+e+"' aria-expanded='true' aria-controls='zc_data_collapse"+e+"'>"+j[a].js_detail+"</a>   </div>  </div> </div></div><div id='zc_data_collapse"+e+"' class='collapse' role='tabpanel'>   <div class='card-block m-3 clearfix'>       <h4 class='card-title'>"+s+"</h4>       <h6 class='card-subtitle mb-2 text-muted'>  "+(null==t.branch_name?"<p class='card-subtile mb-2 text-muted'>["+j[a].js_nodata+"]</p>":"<a href='"+i+"' target='_blank' class='card-link'>"+n+"</a>")+"</h6>       <p class='card-text'>"+l+"</p>       <a href='"+c+"' target='_blank' data-nx='lock' class='card-link btn btn-sm btn-primary float-right'>"+j[a].js_open+"</a>   </div></div>",jQuery("#zno-calcs_data").append(u)}(t)});jQuery(".zc_your_mark");jQuery(".zc_your_mark").attr("title",a.js_your_mark),jQuery(".zc_your_mark").tooltip(),jQuery(".zc_last_mark").attr("title",a.js_last_mark),jQuery(".zc_last_mark").tooltip(),jQuery("#zno-calcs .card").addClass("animated"),function(){var e=jQuery("#zno-calcs .card"),t=jQuery(window);function a(){var a=t.height(),s=t.scrollTop(),r=s+a;jQuery.each(e,function(){var e=jQuery(this),t=e.outerHeight(),a=e.offset().top;a+t>=s&&a<=r?e.addClass(c):e.removeClass(c)})}jQuery("#zno-calcs .modal").off("scroll resize",a),jQuery("#zno-calcs .modal").on("scroll resize",a),jQuery("#zno-calcs .modal").trigger("scroll")}()}else jQuery(".zc-gt_title").text(a.js_sr_title),jQuery(".zc-gt_text").text(a.js_sr_text);jQuery("#zno-calcs .zno-calcs_loader").removeClass(l),jQuery("#zno-calcs .zno-calcs_loader").addClass(n),setTimeout(function(){jQuery("#zno-calcs .zno-calcs_loader").hide()},1e3),jQuery(".zc-gt").fadeIn()},900)}var g=!1;function b(){!function(){if(0==$(".zc_clear").length){var e=document.createElement("button");e.setAttribute("type","button"),e.setAttribute("class","btn  btn-primary  zc_clear my-2"),e.textContent="X",$("#zc_sub_wrap").append(e)}}();for(var e=1;e<=3;e++)if(""===jQuery("#zc-s"+e+"-val").val()||jQuery("#zc-s"+e).text()===j[d()].js_chose||""===jQuery("#zc-AverAt").val()){if(window.localStorage&&localStorage.getItem("localizedYeap")&&!g){g=!0;var t=j[d()],a=document.createElement("div");a.setAttribute("class","alert alert-danger show animated bounceIn"),a.setAttribute("role","alert"),jQuery("#zno-calcs #alerter").append(a),jQuery("#zno-calcs .alert").text(t.js_not_full),jQuery("#zno-calcs .alert").alert(),setTimeout(function(){jQuery("#zno-calcs .alert").removeClass("bounceIn"),jQuery("#zno-calcs .alert").addClass("bounceOut"),setTimeout(function(){jQuery("#zno-calcs .alert").alert("close"),g=!1},1e3)},2e3)}return}var s=[],r=[],u=!0===jQuery("#zc-vill").prop("checked"),_=jQuery("#zc-prior").val(),p=jQuery("#zc-AverAt").val();for(e=1;e<=3;e++)s.push(jQuery("#zc-s"+e).text()),r.push(jQuery("#zc-s"+e+"-val").val());jQuery("#zno-calcs .card").removeClass(c),jQuery("#zno-calcs .card").addClass(o),jQuery("#zno-calcs .zno-calcs_loader").show(),jQuery("#zno-calcs .zno-calcs_loader").removeClass(n),jQuery("#zno-calcs .zno-calcs_loader").addClass(l),setTimeout(function(){jQuery(".zc-gt").fadeOut("slow")},200),jQuery.ajax({type:"json",data:"",url:"http://"+i+"/api/calc?n="+s+"&v="+r+"&vl="+u+(_?"&pr="+_:"")+(p?"&avm="+p:""),success:function(e){h(e),jQuery(".zno-calcs").hasClass("zno-calcs_sidebar-active")&&jQuery(".zno-calcs").toggleClass("zno-calcs_sidebar-active")}})}function x(){jQuery(".zc_clear").remove(),jQuery.ajax("../../api/calc?hlp=").done(function(e){var t=e.response.split(","),a="Українська";a=t.filter(function(e){return e.includes(a)}),jQuery("#zc-s1").text(a),jQuery("#zc-s2").text(j[d()].js_chose),jQuery("#zc-s3").text(j[d()].js_chose),jQuery("input").val(""),v(t.filter(function(e){return e!==a[0]}).join(",")),jQuery(".card.animated").addClass("fadeOut"),setTimeout(function(){jQuery(".card.animated").remove()},1200)})}jQuery(document).ready(function(){if(d(),void 0==typeof window.jQuery.popover||"3.2.1"!==window.jQuery.fn.jquery){var e=document.createElement("script");e.type="text/javascript",e.src=u.jq_js,document.getElementsByTagName("head")[0].appendChild(e)}Q(u.bs_css,"css"),Q(u.zc_css,"css"),Q(u.fa_css,"css"),Q(u.anim_css,"css"),void 0===jQuery.fn.popover&&Q(u.pop_js,"js")}),jQuery(document).on("mouseenter","*",function(){this.addEventListener("scroll",function(){var e=jQuery("#zno-calcs_toggler");jQuery(".modal").scroll(function(){jQuery(this).scrollTop()>100?e.addClass("show"):e.removeClass("show")}),jQuery(".zno-calcs").scroll(function(){jQuery(this).scrollTop()>100?e.addClass("show"):e.removeClass("show")})})}),jQuery(document).on("click",".zc_clear",function(){x()}),jQuery(document).on("click","#zno-calcs_toggler",function(){jQuery(".zno-calcs").toggleClass("zno-calcs_sidebar-active")}),jQuery(document).on("click","#zc-submit",function(){b()})}();